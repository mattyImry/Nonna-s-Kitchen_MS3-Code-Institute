{% extends "base.html" %}
{% block content %}



<div class="row row-form-register">
    <div class="col s12 m8 offset-m2" >
        <div class="card-panel card-panel grey lighten-5">
            <h3 class="center-align brown-text darken-4">
                {{ username|capitalize }}'s Profile
            </h3>
            <h4 class="center-align brown-text darken-4">
                {{ username|capitalize }} you have created {{ user_number_of_recipes }} recipes.
            </h4>
        </div>
    </div>
</div> 

<div class="container container">
        
        <div class="row ">
            {% for recipe in recipes %}
                {% if session.user|lower == recipe.author|lower %}
            <div class="col s12 m6">
                <div class="card">
                    <div class="card-image">
                        <img src="{{ recipe.image }}" alt="{{recipe.recipe_name}}">                       
                    </div>
                    <div class="card-content center-align">
                        <div><h5 class="brown-text darken-4 center-align">{{recipe.recipe_name}}</h5></div>
                        <div class="brown-text lighten-4" ><i class="fas fa-users icon"></i> {{ recipe.serving }}</div>
                        <div class="brown-text lighten-4"><i class="fas fa-utensils icon"></i> Prep: {{ recipe.prep_time }}</div>
                        <div class="brown-text lighten-4"><i class="fas fa-hourglass icon"></i> Cook: {{ recipe.cook_time }}</div>
                        <div class="brown-text lighten-4"><i class="fas fa-exclamation icon"></i> Difficulty: {{ recipe.difficulty }}</div>
                        <div class="brown-text lighten-4"> <i class="fas fa-leaf icon"></i> Vegetarian: {{ recipe.is_vegetarian }}</div>
                        <div class="brown-text lighten-4"> <i class="fas fa-user-check icon"></i> Author: {{ recipe.author }}</div>
                    </div>
                </div>
                <div class="row center-align">
                    <div class="col s12">
                    
                        <a href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}" class="btn-small btn-edit brown lighten-2 text-shadow waves-effect waves-light">Edit</a>
                        <a href="#{{ recipe._id }}" class="btn-small btn-edit brown lighten-2 text-shadow waves-effect waves-light modal-trigger">Delete</a>

                        <div id="{{ recipe._id }}" class="modal">
                            <div class="modal-content">
                                <h4>Confirm delete this recipe</h4>
                                <p>Are you sure you want to delete this recipe? The action cannot be reverted.</p>
                            </div>
                            <div class="modal-footer">
                                <a href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}" class="modal-close waves-effect waves-green btn-flat">Agree</a>
                            </div>
                        </div>
                    
                    </div>
                </div>
                
            </div>
                {% endif %}
            {% endfor %}
        </div>
        
    </div>
          

{% endblock %}